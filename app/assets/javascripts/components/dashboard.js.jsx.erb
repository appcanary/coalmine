var Dashboard = React.createClass({
  componentDidMount: function() {
    // TODO unbind
    this.props.timeline.on("sync", function() {
      this.forceUpdate();
    }, this);
  },


  render: function(){

    return (
      <div>
        <div className="navigation">
          <Navbar />
        </div>
        <div id="main" className="main-drawer container">
          <TimelineView collection={this.props.timeline} />
        </div>
      </div>
    )
  }
});



var Navbar = React.createClass({
  isActive: function (tab) {
    if (this.props.activeTab === tab) {
      return "active";
    } else {
      return "";
    }
  },
  
  render: function() {
    return (
      <div className="navbar-left-side" role="navigation">
        <div className="container">
          <div className="collapsed-menu">
            <button type="button" className="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span className="sr-only">Toggle navigation</span>
              <span className="icon-bar"></span>
              <span className="icon-bar"></span>
              <span className="icon-bar"></span>
            </button>
          </div>


          <div className="navbar-collapse collapse">
            <ul className="menu">
              <li>
                <a className="navbar-brand" href="/">
                  <img src={'<%= image_path("oval-canary.png") %>'} />
                </a>
              </li>
            </ul>
            <ul className="menu">
              <li className="divider"></li>
              <li> <a href="#" className={this.isActive("add")}><i className="fa fa-plus"></i></a> </li>
              <li> <a href="#" className={this.isActive("settings")}><i className="fa fa-cog"></i></a> </li>
              <li>
                <a data-method="post" href="/logout"><i className="fa fa-sign-out"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    )
  }
});



var Eui_button = React.createClass({
  render: function() {
    return (
      <eui-button className="ember-view eui-button-medium-default">
        <button aria-label={this.props.value}></button>
        <div className="eui-component">
          <div className="eui-component-wrapper">
            <div className="eui-label">
              <a href="" className="eui-label-value" onClick={this.props.href}>
                {this.props.value}
              </a>
            </div>
          </div>
        </div>
      </eui-button>
    )
  }
});
