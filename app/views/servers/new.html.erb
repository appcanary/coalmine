<section id="onboarding" style="padding-top: 10px;">
  <!-- <div class="col&#45;sm&#45;3"> -->

    <!-- <div style="width: 200px; margin&#45;left: auto; margin&#45;right: auto;"> -->
      <!--     <%= image_tag "canary&#45;egg.medium.png", :style => "width: 200px" %> -->
      <!--   </div> -->

    <!--   <h3>Welcome!</h3> -->
    <!--   <h4>Problems? Feedback?</h4> -->
    <!--   <p>Hit up <a href="mailto:hello@appcanary.com">hello@appcanary.com</a>, or click the button below.</p> -->
    <!--   <p>We <b>really</b> want to hear from you.</p> -->
    <!--   <%= eui_button "Hey, I got opinions", href: "", :class => "eui&#45;button&#45;medium&#45;primary feedback" %> -->

    <!-- </div> -->


  <div class="col-sm-3">
    <div class=" sidemenu">
      <div class="sidewrapper">
        <div style="margin-top: 20px;">
          <%= image_tag "canary-egg.medium.png", :style => "width: 150px" %>
        </div>

        <ul class="nav nav-pills nav-stacked">
          <li><h2>Welcome!</h2></li>
          <li><a href="" >What do I get?</a></li>
          <li><a href="" >How does it work?</a></li>
          <li><h5>Getting Started</h5></li>
          <li><a>Using bash</a></li>
          <li><a>Using chef</a></li>
          <li><a>Using puppet</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="col-sm-6">

    <h2>What do I get?</h2>
    <ul>
      <li>We track <strong><%= number_with_delimiter(@vulnerabilities_count) %></strong> vulnerabilities across <strong><%= number_with_delimiter(@artifacts_count) %></strong> packages so you don't have to. </li>
      <li>Whenever a vulnerability that affects your servers comes out, you receive an email.</li>
      <li>We tell you how to patch your servers and your apps and stay safe.</li>
    </ul>
    <p>Here is a screenshot:</p>

    <div style="width: 300px; margin-left: auto; margin-right: auto; margin-bottom: 20px;">
      <a href="#screenshot" data-toggle="modal" data-target="#screenshot"><%= image_tag "screenshot-vuln.jpg", :style => "width: 300px; border: 1px solid black" %></a>
    </div>

    <table class="table">
      <thead>
        <th>What platforms get notifications?</th>
        <th>Where can I install it?</th>
      </thead>
      <tr>
        <td><span class="platform-logo">
            <%= image_tag "icon-ruby.png", :style => "width: 13px" %> Ruby</span>,
          <span class="platform-logo">
            <%= image_tag "icon-ubuntu.png", :style => "width: 13px"%> Ubuntu</span> <span class="platform-logo">(more soon, stay tuned!)</span>
        </td>
        <td>

          Most versions of <span class="platform-logo"><%= image_tag "icon-ubuntu.png", :style => "width: 13px"%> Ubuntu</span>, <span class="platform-logo"><%= image_tag "icon-debian.png", :style => "width: 13px"%> Debian</span>, <span class="platform-logo"><%= image_tag "icon-redhat.png", :style => "width: 13px"%> Redhat</span>, <span class="platform-logo"><%= image_tag "icon-centos.png", :style => "width: 13px"%> CentOS</span>, Amazon and Mint Linux.</a>
      </td>
    </tr>
  </table>

  <h2>How does it work?</h2>
  <p>We monitor the dependencies your application depends on. Right now this means you install our <b>tiny</b> agent. It's written in golang and it's <b><a href="https://github.com/appcanary/agent" target="_blank">entirely open source</a></b>.
  </p>
  <p>You tell us which files list your server's dependencies, and we keep track of them. We only ever see the files *explicitly listed* in the configuration. Whenever you make a deploy - or new packages are installed - we find out.
    <h2>Getting started</h2>
    <p>We provide a variety of ways to install us on your server:</p>
    <ul class="install-nav">
      <li> Using bash </li>
      <li> Using chef </li>
      <li> Using puppet </li>
    </ul>
    <br/>
    <h3>Using Bash</h3>
    <section>
      <div class="onboard-box">
        <div class="onboard-wrapper">
          <section style="border: none">
            <div class="onboard-title">

              <h4>Select your distribution:</h4>
              <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="#deb" data-toggle="tab"><%= image_tag "icon-ubuntu.png", :style => "width: 13px"%> Ubuntu and <%= image_tag "icon-debian.png", :style => "width: 13px"%> Debian</a></li>
                <li role="presentation"><a href="#rpm" data-toggle="tab"><%= image_tag "icon-redhat.png", :style => "width: 13px"%> Redhat, <%= image_tag "icon-centos.png", :style => "width: 13px"%> CentOS and Amazon</a></li>
              </ul>
            </div>
          </section>

          <section>
            <div class="onboard-desc">
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="deb">
                  <%= render :partial => "debian" %>
                </div>

                <div role="tabpanel" class="tab-pane" id="rpm">
                  <%= render :partial => "redhat" %>
                </div>

              </div>
            </div>
          </section>


          <section>
            <div class="action-bar">
              <div class="pull-right">
                <%= eui_button "This didn't work.", href: "", :class => "eui-button-medium-primary feedback-else" %>
                <%= eui_button "Great. I've done all of this!", href: dashboard_path(done: true) %>
              </div>
            </div>
          </section>

        </div>
      </div>
    </section>


    <br>
    <br>
    <h3>Using chef</h3>
    <section>
      <div class="onboard-box">
        <div class="onboard-wrapper">
          <section style="border: none">
            <div class="onboard-title">
              <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="#berkshelf" data-toggle="tab">Berkshelf</a></li>
                <li role="presentation"><a href="#librarian" data-toggle="tab">Librarian</a></li>
                <li role="presentation"><a href="#knife" data-toggle="tab">Knife</a></li>
              </ul>
            </div>
          </section>

          <section>
            <div class="onboard-desc">
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="berkshelf">
                  <pre>cookbook 'appcanary', '~&gt; 0.2.0'</pre>
                </div>

                <div role="tabpanel" class="tab-pane" id="librarian">
                  <pre>cookbook 'appcanary', '~&gt; 0.2.0'</pre>
                </div>

                <div role="tabpanel" class="tab-pane" id="knife">
                  <pre>knife cookbook site install appcanary
knife cookbook site download appcanary</pre>
                </div>
            </div>
            <br/>
            <h4>Attributes</h4>
            <table class="table">
              <thead>
                <th>Key</th>
                <th>Type</th>
                <th>Desc</th>
              </thead>
              <tr>
                <td><code>['appcanary']['agent']['api_key']</code></td> 
                <td>String</td>
                <td>Your API key</td>
              </tr>
              <tr>
                <td><code>['appcanary']['agent']['paths']</code></td>
                <td>Array</td>
                <td>Your Gemfile.locks</td>
              </tr>
            </table>
            <p>Your api key is:</p>
<pre><%= @agent_token %></pre>

            <br>
            <p>Your paths should look like:</p>
<pre>/path/to/a/Gemfile.lock
/path/to/a/different/Gemfile.lock</pre>
            <br>
            <h4>Usage</h4>
            <p>Include appcanary in your node's run_list:</p>
<pre>
{
  "run_list": [
    "recipe[appcanary::default]"
  ]
}</pre>

            <br>
            <p>Bam! You should be good. For slightly more information, <a href="https://supermarket.chef.io/cookbooks/appcanary">visit the supermarket page</a>.</p>
          </div>
        </section>

        <section>
          <div class="action-bar">
            <div class="pull-right">
              <%= eui_button "This didn't work.", href: "", :class => "eui-button-medium-primary feedback-else" %>
              <%= eui_button "Great. I've done all of this!", href: dashboard_path(done: true) %>
            </div>
          </div>
        </section>

      </div>
    </div>
  </section>



  <br>
  <br>
  <h3>Using puppet</h3>
  <section>
    <div class="onboard-box">
      <div class="onboard-wrapper">
        <section>
          <div class="onboard-desc">

            <p>Use this command to install the latest compatible version:</p>
            <pre>puppet module install appcanary-appcanary</pre>
            <br>
            <h4>Getting started:</h4>
            <p>The package is hosted on packagecloud, so be sure to grab <code>computology/packagecloud</code> from the Forge.</p>
            <p>You can just add the following to your Puppetfile:</p>
              <pre>mod 'computology/packagecloud'</pre>
            <br>
            <h4>Usage</h4>
            <p>Copy the following, replacing the fake paths with correct ones:</p>
<pre>
class { '::appcanary':
  api_key: <%= @agent_token %>
  paths:
    - /path/to/your/Gemfile.lock
    - /a/different/Gemfile.lock
}
</pre>

            <br>
            <p>Bam! You should be good. For slightly more information, <a href="https://forge.puppetlabs.com/appcanary/appcanary">visit the forge page</a>.</p>
          </div>
        </section>

  <section>
    <div class="action-bar">
      <div class="pull-right">
        <%= eui_button "This didn't work.", href: "", :class => "eui-button-medium-primary feedback-else" %>
        <%= eui_button "Great. I've done all of this!", href: dashboard_path(done: true) %>
      </div>
    </div>
  </section>

</div>
    </div>
  </section>



  </div>

</section>



<div class="modal fade" id="screenshot" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Screenshot</h4>
      </div>
      <div class="modal-body">
        <%= image_tag "screenshot-vuln.jpg", :style => "width: 725px;" %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
