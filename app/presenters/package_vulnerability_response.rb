class PackageVulnerabilityResponse
  attr_accessor :query
  def initialize(q)
    self.query = q
  end

  def serialize
    ActiveModelSerializers::SerializableResource.new(query, adapter: :json_api, include: "vulnerabilities", meta: meta_key)
  end

  def meta_key
    if query.present?
      {vulnerable: true}
    else
      {vulnerable: false}
    end
  end

  def to_json(wat)
    serialize.to_json(wat)
  end
end

